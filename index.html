<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>俺らの電工 - WORLD2</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
  <div class="titleWrap">
    <div class="titleMain">WORLD2</div>
  </div>
  <div class="hpwrap">
    <div class="hpbar">
      <div id="bossHPbar" class="bossHPbar"></div>
    </div>
  </div>
</header>

<main id="board" class="board">
  <!-- power (breaker visual) -->
  <div class="device power" id="power" aria-label="電源（ブレーカー）">
    <div class="powerToggle" title="breaker">
      <div class="toggle-on"></div>
      <div class="toggle-off"></div>
    </div>
    <div class="termRow">
      <div class="terminal" data-id="power-L">L</div>
      <div class="terminal" data-id="power-N">N</div>
    </div>
  </div>

  <!-- three-way left -->
  <div class="device sw" id="sw1" aria-label="三路スイッチ1">
    <button class="swBtn" id="sw1Btn">SW1</button>
    <div class="termCol">
      <div class="terminal" data-id="sw1-COM">COM</div>
      <div class="terminal" data-id="sw1-T1">T1</div>
      <div class="terminal" data-id="sw1-T2">T2</div>
    </div>
  </div>

  <!-- three-way right -->
  <div class="device sw" id="sw2" aria-label="三路スイッチ2">
    <button class="swBtn" id="sw2Btn">SW2</button>
    <div class="termCol">
      <div class="terminal" data-id="sw2-COM">COM</div>
      <div class="terminal" data-id="sw2-T1">T1</div>
      <div class="terminal" data-id="sw2-T2">T2</div>
    </div>
  </div>

  <!-- joint box (6 terminals) -->
  <div class="device junction" id="junction" aria-label="Joint Box">
    <div class="jbTitle">JB</div>
    <div class="jbRow">
      <div class="terminal" data-id="junction-1"></div>
      <div class="terminal" data-id="junction-2"></div>
      <div class="terminal" data-id="junction-3"></div>
      <div class="terminal" data-id="junction-4"></div>
      <div class="terminal" data-id="junction-5"></div>
      <div class="terminal" data-id="junction-6"></div>
    </div>
  </div>

  <!-- lamps -->
  <div class="device lamp" id="lamp1" aria-label="Lamp 1">
    <div class="lampBulb" aria-hidden="true"></div>
    <div class="termRow">
      <div class="terminal" data-id="lamp1-L">L</div>
      <div class="terminal" data-id="lamp1-N">N</div>
    </div>
  </div>

  <div class="device lamp" id="lamp2" aria-label="Lamp 2">
    <div class="lampBulb" aria-hidden="true"></div>
    <div class="termRow">
      <div class="terminal" data-id="lamp2-L">L</div>
      <div class="terminal" data-id="lamp2-N">N</div>
    </div>
  </div>

  <!-- svg wires -->
  <svg id="wireLayer" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"></svg>
</main>

<div class="controls">
  <button id="setBtn" class="primary">SET</button>
  <button id="resetBtn" class="ghost">Reset Wires</button>
</div>

<!-- boss -->
<div class="bossWrap">
  <img id="bossImg" alt="boss" src="assets/boss/boss_World2.PNG">
</div>

<div id="overlay" class="overlay" style="display:none">WORLD2 CLEAR</div>

<!-- boss effect - canvas/flash/sfx -->
<canvas id="bossCanvas" style="position:fixed;inset:0;pointer-events:none;z-index:99990;display:none"></canvas>
<div id="bossFlash" style="position:fixed;inset:0;z-index:99980;pointer-events:none;display:none"></div>

<audio id="sfxHit" src="assets/sound/hit.mp3" preload="auto"></audio>
<audio id="sfxExplode" src="assets/sound/explode.mp3" preload="auto"></audio>
<audio id="sfxSlow" src="assets/sound/slow.mp3" preload="auto"></audio>

<script src="game.js"></script>
</body>
</html>
