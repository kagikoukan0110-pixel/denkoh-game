:root{
  --bg:#000;
  --panel:#e6e6e6;
  --term-bg:#222;
  --wire-black:#000000;
  --wire-white:#ffffff;
  --highlight:#ffd800;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
#header{padding:5vw 6vw 2vw 6vw}
#title{font-size:7.6vw;font-weight:900;margin-bottom:1vh}
#metaRow{display:flex;align-items:center;gap:4vw}
#worldLabel{font-size:3.4vw;color:#cfcfcf}
#hpWrap{flex:1;height:3.6vw;background:#222;border-radius:999px;overflow:hidden}
#playerHP{width:100%;height:100%;background:#34d058}

#wireCanvas{position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:1;pointer-events:none}

#board{position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:2;pointer-events:auto}

.device{position:absolute;border-radius:10px;background:var(--panel);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0.6vh;box-shadow:0 10px 30px rgba(0,0,0,0.5)}
.device .terminal{display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--term-bg);color:#fff;user-select:none}
.device .terminal.small{width:8vw;height:8vw;font-size:4vw}
.device .terminal.mid{width:7.4vw;height:7.4vw;font-size:3.6vw}
.device .breaker{width:12vw;height:3.2vh;background:#444;border-radius:6px;margin-bottom:1vh}

/* safe default sizes/positions (will be set inline by JS but fallback here) */
#power{left:36vw;top:8vh;width:28vw;height:14vh}
#switch1{left:6vw;top:24vh;width:22vw;height:22vh}
#jb{left:28vw;top:34vh;width:44vw;height:18vh}
#lamp1{left:34vw;top:56vh;width:32vw;height:22vh}

/* controls */
#controls{position:fixed;left:0;right:0;bottom:4vh;display:flex;justify-content:center;gap:6vw;z-index:4}
button.big{padding:2.6vh 8vw;border-radius:28px;border:none;font-weight:800;font-size:4.4vw}
button.dark{background:#333;color:#fff}
#quizModal.modal,#bossOverlay.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:900;background:rgba(0,0,0,0.75)}
#bossBox{width:86vw;padding:4vw;background:#0d0d0d;border-radius:10px;text-align:center}
#bossImg{width:100%;border-radius:8px}
#bossHPWrap{margin-top:3vh;background:#2b1818;height:3vh;border-radius:999px;overflow:hidden}
#bossHP{height:100%;width:100%;background:#e74c3c}

/* selected terminal visual */
.terminal-selected{box-shadow:0 0 0 6px var(--highlight) !important}

/* responsive small fix */
@media (max-width:420px){
  #title{font-size:7vw}
  button.big{font-size:4vw}
}
